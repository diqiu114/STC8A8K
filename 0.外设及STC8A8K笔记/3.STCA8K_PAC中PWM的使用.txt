

PCA(可编程计数矩阵)
首先由CMOD中CPS位控制选择的时钟脉冲,并且由16位计数器(CH和CL)进行计数,
当计数计满溢出时,硬件会将CCON中的CF位置位,并且申请中断(产生PAC中断),是
否允许中断由CMOD中的ECF位控制,

有几个重要寄存器:
1.CCON中:(控制寄存器)
CF:计数器溢出中断标志
CR:计数器允许中断(1:允许)
CCFn:PCA模块中断允许位,PCA模块发生匹配或者捕获时,硬件置1
上述寄存器全部软件清零.

2.CMOD中:(模式寄存器)
CIDL:空闲模式下是否停止PCA计数(0继续)
CPS:计数源选择(见手册17章)
CEF:中断溢出允许位(1允许)

3.CCAPMn:(模块模式控制寄存器)
ECOMn:允许比较功能
CCAPPn:上升沿捕获
CCAPNn:下升沿捕获
PWMn:允许脉宽调制输出功能;
............

4.CCAPnL:捕获模式捕获值寄存器
  CCAPnH:捕获模式比较值寄存器
捕获模式捕获计数值存入这两个寄存器
.....

PCA的PWM模式:
PCA的PWM模式中有几个较为重要的寄存器:
PAC_PWMn:	
	其中7,6位:EBSn		(用于PWM位数的设置详情见手册)
	其中5,4位:XCCPnH	(用于10位PWM第9位和第十位的重载值)
	其中3,2位:XCCPnL	(用于10位PWM第9位和第十位的比较值)
	其中1位:  EPCnH:	(PWM模式下重载值的最高位(例:8位PWM的第9位)
	其中0位:  EPCnL:	(PWM模式下比较值的最低位(例:8位PWM的第9位)
	注意:更新10位PWM的重载值时需要先写XCCPnH两位,再写CCAPnH8位
	
分为
